
"cross-env WEBPACK_ENV=development webpack -w"
//webpack -w  파일을 지켜보다가 만약 변화가 생기면 webpack을 재실행




오류의 이유 
main.js:11 Uncaught ReferenceError: regeneratorRuntime is not defined
    at eval (main.js:11)
    at eval (main.js:29)
    at Module../assets/js/main.js (main.js:97)
    at __webpack_require__ (main.js:20)
    at main.js:84
    at main.js:87
구글크롬이 async를 처리할지 몰라서




터미널에 
'git rm --cached (깃허브에 안올릴 파일 또는 폴더이름)'
을 실행하면 커밋을 막을수 있다.

이것이 안통하면 뒤에 '-r' 을 붙이면된다
ex) 'git rm --cached (깃허브에 안올릴 파일 또는 폴더이름) -r'






//터미널에 'mongo'와 npm run dev:server 를 모두 실행한 후

//db.users.find({})
//을 실행하면 가입한 유저의 ObjectId, 이름, 이메일의 정보를 볼 수있다.

//반대로 그렇게 생성된 유저 지울때

//db.users.remove({})
//을 실행하면 지울수있다.






안녕 니코! postJoin 컨트롤러에서 17 ~ 19 행,
const user = await User ({name, email});
이 부분은 mongoose 만 사용하고 있지요?  
passport-local-mongoose가 관여하지 않습니다.
model을 사용하여 문서를 만들기위한 것입니까?
그렇다면 이 경우 User ()와 new User ()를 
사용하는 것과 다른 점은 무엇입니까?
예를 들어,
const user = new User ({name, email});
await 때문인가요?

serranoarevalo 2 개월 전
사용자 ({이름, 이메일}); 객체를 만드는 것입니다. 
나중에 등록하거나 생성 할 때 passport-local-mongoose를 사용할 것입니다.
 




wjdghdwns0 2 개월 전
process.env를 사용하는 프로세스는 어디에서 왔으며 무엇입니까? 
이거 수입 했나요? 프로세스는 모듈입니까?

serranoarevalo 2 개월 전
프로세스는 NodeJS에서 무료로 제공합니다. 변수입니다.



깃허브 홈패이지에서 깃허브을 통한 가입자들을 확인할때
깃허브의 Settings / Developer settings / OAuth Apps / WeTube 순으로 들어간다.



#6.8


danny2 weeks ago

@moo1323 e-mail을 private으로 바꾸지 않아도 되는 방법을 찾았습니다.

1. passport.js : GithubStrategy 인자 object에 scope:"user:email" 을 추가합니다.
passport.use(
new GithubStrategy(
{
clientID: process.env.GITHUB_CLIENT_ID,
clientSecret: process.env.GITHUB_CLIENT_SECRET,
callbackURL: `http://localhost:4000${routes.githubCallback}`,
scope: "user:email",
},
githubLoginCallback
)
);

2. userController.js : githubLoginCallback 
함수 내에서 email 변수를 아래와 같이 설정해줍니다.

const { value: email } = profile.emails.filter((item) => item.primary)[0];

이렇게 하시면 유저가 private으로 해놓은 메일주소 중 
primary 로 해둔 email 을 가지고 오실 수 있습니다.

※ mongodb에서 모든 유저 삭제하고, github Oauth app 내에서도 
모든 user token을 revoke 시킨후에 테스트 해보세요!
제 github 주소를 올릴까 했는데, 너무 비루해서 차마 올리지 못하고 
중요한 내용만 기재하였어요. 혹시 추가로 문의사항 있으시면 댓글 남겨주세요

참고사이트: https://github.com/jaredhanson/passport-github/issues/15




ars_magica2 weeks ago
@danny 혹시 위에있던 _json에 있는 email 변수명도 바꾸셨나요?



danny2 weeks ago
@ars_magica _json에서는 email을 삭제하였습니다.

const {
_json: { id, avatar_url, name },
} = profile;

const { value: email } = profile.emails.filter((item) => item.primary)[0];

이렇게요



sug516891 week ago
@danny 감사합니다. 좋은 공부가 되었습니다!


